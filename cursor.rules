# Règles de développement pour Brainstorm AI
# ==========================================
# Projet : Système de brainstorming collaboratif avec agents IA spécialisés

## Règles générales pour Brainstorm AI
- Toujours répondre en français
- Maintenir la cohérence du système multi-agents
- Respecter l'architecture : agents/ pour la logique métier, core/ pour l'infrastructure
- Préserver la compatibilité avec OpenAI GPT-3.5 et GPT-4
- Maintenir la configuration centralisée dans config.yaml

## Règle d'automatisation Git (OBLIGATOIRE)
**IMPORTANT** : À chaque amélioration du système Brainstorm AI, tu dois AUTOMATIQUEMENT :

1. **Ajouter les fichiers modifiés** : `git add .` ou fichiers spécifiques
2. **Créer un commit descriptif** : Message en français spécifique au contexte IA
3. **Pousser vers GitHub** : `git push origin main`

### Messages de commit spécifiques au projet
- **Agent** : "Amélioration agent [créatif/critique/révision/synthèse/score/application] - [modification]"
- **Prompts** : "Optimisation des prompts [agent] - [amélioration]"
- **Configuration** : "Modification config.yaml - [paramètre IA/cycles/modèles]"
- **Boucle de brainstorming** : "Amélioration loop_manager - [optimisation workflow]"
- **Export/Logs** : "Amélioration système d'export - [format/structure]"
- **Scoring** : "Optimisation système de scoring - [critères/validation]"
- **Gestion tokens** : "Optimisation consommation tokens - [stratégie]"
- **Tests agents** : "Tests pour agent [nom] - [couverture]"

### Exemples de workflow Brainstorm AI
```bash
# Modification d'un agent
git add agents/agent_creatif.py
git commit -m "Amélioration agent créatif - prompts plus innovants"
git push origin main

# Optimisation de la boucle de brainstorming
git add core/loop_manager.py
git commit -m "Amélioration loop_manager - gestion intelligente historique"
git push origin main

# Configuration des modèles IA
git add config.yaml
git commit -m "Modification config.yaml - passage GPT-4 pour agent synthèse"
git push origin main
```

## Règles spécifiques au système Brainstorm AI

### Architecture des agents IA
- **agents/agent_creatif.py** : Génération d'idées, température élevée (0.9)
- **agents/agent_critique.py** : Analyse critique, température basse (0.4)
- **agents/agent_revision.py** : Reformulation, température modérée (0.6)
- **agents/agent_synthese.py** : Synthèse finale, température équilibrée (0.5)
- **agents/agent_score.py** : Évaluation quantitative, température très basse (0.2)
- **agents/agent_application.py** : Plans d'action, température modérée (0.6)

### Fichiers critiques à surveiller
- **config.yaml** : Configuration centrale (modèles, températures, cycles)
- **core/loop_manager.py** : Orchestration des cycles de brainstorming
- **core/config.py** : Gestionnaire de configuration
- **core/gpt.py** : Interface OpenAI avec gestion des tokens
- **main.py** : Point d'entrée avec confirmation utilisateur

### Optimisations spécifiques IA
- **Gestion contexte** : Limiter l'historique pour optimiser les tokens
- **Stratégies d'extraction** : Méthodes robustes pour extraire les top idées
- **Validation scoring** : Fallback intelligent pour les scores malformés
- **Détection redondance** : Éviter la répétition d'idées similaires
- **Retry avec backoff** : Gestion des erreurs API OpenAI

### Tests spécialisés
- **tests/test_agent_*.py** : Tests unitaires par agent
- **tests/test_loop_manager.py** : Tests des cycles de brainstorming
- **tests/test_exporter.py** : Tests d'export multi-format
- Vérifier les prompts et les réponses IA dans les tests

## Checklist spécifique Brainstorm AI

### Avant chaque commit/push
- [ ] **Agents IA** : Prompts testés et réponses cohérentes
- [ ] **Configuration** : config.yaml valide (YAML syntax)
- [ ] **Tokens** : Optimisation consommation OpenAI vérifiée
- [ ] **Cycles** : Workflow de brainstorming fonctionnel
- [ ] **Export** : Formats YAML/JSON/Markdown générés correctement
- [ ] **Scoring** : Validation des scores (impact, faisabilité, originalité, clarté)
- [ ] **Historique** : Gestion mémoire et contexte optimisée
- [ ] **Variables environnement** : OPENAI_API_KEY non exposée dans le code

### Tests critiques à valider
- [ ] **main.py** s'exécute sans erreur
- [ ] **Confirmation utilisateur** fonctionne
- [ ] **Statistiques tokens** s'affichent correctement
- [ ] **Logs** sauvegardés dans le bon format
- [ ] **Agents** répondent dans le bon rôle (créatif vs analytique)

## Exceptions pour Brainstorm AI
Ne PAS faire de commit/push automatique dans ces cas :
- **Tests expérimentaux** de nouveaux prompts
- **Modifications des clés API** (sécurité)
- **Refactoring majeur** de l'architecture multi-agents
- **Changements breaking** dans config.yaml

## Priorités de développement Brainstorm AI
1. **Performance IA** : Optimiser les prompts et la consommation tokens
2. **Qualité brainstorming** : Améliorer la pertinence des idées générées
3. **Robustesse** : Gestion d'erreurs API et validation des réponses
4. **Expérience utilisateur** : Interface claire avec emojis et progression
5. **Extensibilité** : Faciliter l'ajout de nouveaux agents ou critères

**RÈGLE D'OR : Chaque amélioration du système de brainstorming doit être immédiatement commitée et pushée !** 